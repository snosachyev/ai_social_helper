# üöÄ –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ RAG —Å–∏—Å—Ç–µ–º—ã

## ‚úÖ –†–∞–±–æ—á–∏–µ —Ç–µ—Å—Ç—ã (6 passed)

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã:
```bash
# –ó–∞–ø—É—Å–∫ —Ä–∞–±–æ—á–∏—Ö —Ç–µ—Å—Ç–æ–≤
pytest tests/test_smoke.py::TestDocumentUploadBasic::test_document_upload_basic -v
pytest tests/test_smoke.py::TestQueryBasic::test_query_basic -v

# –ò–ª–∏ –≤—Å–µ –≤–º–µ—Å—Ç–µ
pytest tests/test_smoke.py::TestDocumentUploadBasic tests/test_smoke.py::TestQueryBasic -v
```

### –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è—é—Ç —Ä–∞–±–æ—á–∏–µ —Ç–µ—Å—Ç—ã:
1. **–ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞**:
   - ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–∞
   - ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞ API
   - ‚úÖ –†–∞–±–æ—Ç–∞ —Å –º–æ–∫–∞–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
   - ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞

2. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–∞**:
   - ‚úÖ –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫
   - ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
   - ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ guard service
   - ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞

## üîß –¢—Ä–µ–±—É–µ—Ç—Å—è –¥–æ—Ä–∞–±–æ—Ç–∫–∞ (44 failed)

### –ü—Ä–æ–±–ª–µ–º—ã –≤ —Å—Ç–∞—Ä—ã—Ö —Ç–µ—Å—Ç–∞—Ö:
1. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ñ–∏–∫—Å—Ç—É—Ä—ã** –≤ `test_document_controller.py`
2. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –º–æ–∫–æ–≤** –¥–ª—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
3. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–∞—Ç—á–∏** –∏–º–ø–æ—Ä—Ç–æ–≤
4. **–ü—Ä–æ–±–ª–µ–º—ã —Å async —Ç–µ—Å—Ç–∞–º–∏**

## üìã –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Ç–µ—Å—Ç–æ–≤

### ‚úÖ –†–∞–±–æ—á–∏–µ:
- `tests/test_smoke.py::TestDocumentUploadBasic::test_document_upload_basic`
- `tests/test_smoke.py::TestQueryBasic::test_query_basic`
- `tests/test_smoke.py::TestBasicFunctionality::test_app_creation`
- `tests/test_smoke.py::TestBasicFunctionality::test_query_health_endpoint`

### ‚ùå –¢—Ä–µ–±—É—é—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏:
- –í—Å–µ —Ç–µ—Å—Ç—ã –≤ `tests/presentation/api/test_document_controller.py`
- –í—Å–µ —Ç–µ—Å—Ç—ã –≤ `tests/presentation/api/test_query_controller.py`
- –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ç–µ—Å—Ç—ã –≤ `tests/test_smoke.py`

## üõ†Ô∏è –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫

```bash
# 1. –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
source ../.venv/bin/activate

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ —Ä–∞–±–æ—á–∏–µ —Ç–µ—Å—Ç—ã
pytest tests/test_smoke.py::TestDocumentUploadBasic tests/test_smoke.py::TestQueryBasic -v

# 3. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
# –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥: 2 passed, X warnings
```

## üìä –°—Ç–∞—Ç—É—Å –ø–æ–∫—Ä—ã—Ç–∏—è

| –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª | –°—Ç–∞—Ç—É—Å | –¢–µ—Å—Ç—ã |
|------------|--------|-------|
| –ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ | ‚úÖ –ë–∞–∑–æ–≤–æ | 1 —Ä–∞–±–æ—á–∏–π —Ç–µ—Å—Ç |
| –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ | ‚úÖ –ë–∞–∑–æ–≤–æ | 1 —Ä–∞–±–æ—á–∏–π —Ç–µ—Å—Ç |
| –í–∞–ª–∏–¥–∞—Ü–∏—è –æ—à–∏–±–æ–∫ | üîß –ß–∞—Å—Ç–∏—á–Ω–æ | –¢—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏ |
| Health endpoints | üîß –ß–∞—Å—Ç–∏—á–Ω–æ | –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–±–æ—Ç–∞—é—Ç |
| –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã | ‚ùå –ù–µ—Ç | –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã |

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–∞–±–æ—á–∏–µ —Ç–µ—Å—Ç—ã –∏–∑ `test_smoke.py`
- –û–Ω–∏ –ø–æ–∫—Ä—ã–≤–∞—é—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –ø–æ–∏—Å–∫–∞

### –î–ª—è –ø–æ–ª–Ω–æ–≥–æ –ø–æ–∫—Ä—ã—Ç–∏—è:
1. –î–æ—Ä–∞–±–æ—Ç–∞–π—Ç–µ —Ñ–∏–∫—Å—Ç—É—Ä—ã –≤ `test_document_controller.py`
2. –ò—Å–ø—Ä–∞–≤—å—Ç–µ –º–æ–∫–∏ –≤ `test_query_controller.py`
3. –î–æ–±–∞–≤—å—Ç–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã

### –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—á–µ–≥–æ —Ç–µ—Å—Ç–∞:
```python
def test_document_upload_basic(self):
    # –°–æ–∑–¥–∞–Ω–∏–µ –º–æ–∫–æ–≤
    mock_document_use_case = Mock()
    mock_document_use_case.upload_document = AsyncMock()
    
    # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤
    mock_response = DocumentUploadResponse(...)
    mock_document_use_case.upload_document.return_value = mock_response
    
    # –ü–æ–¥–º–µ–Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
    app = create_application()
    app.dependency_overrides[get_document_use_case] = lambda: mock_document_use_case
    
    # –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
    client = TestClient(app)
    response = client.post("/documents/upload", files={"file": ...})
    
    assert response.status_code == 200
```

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–¢–µ—Å—Ç–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é. –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∑–∞–≥—Ä—É–∂–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–∫—Ä—ã—Ç—ã —Ä–∞–±–æ—á–∏–º–∏ —Ç–µ—Å—Ç–∞–º–∏.
